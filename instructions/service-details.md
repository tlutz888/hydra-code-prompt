# Service details

The web service provides the following endpoints, all of which are configured to respond with JSON payloads (and, where applicable, to accept JSON payloads in their request bodies). See `README.md` in the project root directory for instructions on setting up and running the web service.

Note that while changes to the resources (users and objects) stored by the server are preserved while the server is running, for testing purposes changes are *not* preserved if the server is restarted (the server retains only the data saved in the `data` directory). You need not implement a persistence layer in your work; assume that a real web service would retain changes properly, unlike this sandbox service.

## GET /

Returns a simple “Hello world” response for testing. No authentication is required by this endpoint.

## POST /auth

Accepts a `username` and `password` for authentication and returns a [JWT](https://jwt.io) upon success; this JWT may be used to access endpoints requiring authentication by passing it in the HTTP `Authorization` header (the header value should be the string `Bearer`, followed by one space, then the JWT string). For testing purposes, all users generated by the data seeding routine are created with `password` as their password.

## POST /users

Accepts a `username` and `password` to create a new user, returning (along with the serialization of the new user object) a JWT that may be used for authentication on later requests. All remaining endpoints listed below require authentication via the `Authorization` header as described above.

## GET /users

Returns a paginated list of registered users (a `page` array of user objects, plus `page_start` and `page_end` indicating the position in the overall list and a `total_count` indicating the length of the list).

## GET /users/\<username>

Returns details for a single user. When viewing other users, only the `tagline` and `username` fields are visible; when viewing oneself, the `id`, `email`, and `password` fields are additionally visible (the latter only as bcrypt ciphertext).

## PATCH /users/\<username>

Updates data for a single user (only the user authenticated in the JWT may be updated, not other users). Only the `tagline` and `email` data fields can be changed after creation. If either of these fields is omitted from the `PATCH` request, it will be left as originally set.

## GET /objects

Returns a paginated list of generic objects, each having an `id` field, an `owner` field corresponding to the `id` of a user (this field is not displayed in responses), plus `item`, `material`, and `description` fields (arbitrary strings for test purposes). Object pagination follows the same pattern as that of users.

## GET /objects/mine

Returns a paginated list of generic objects whose `owner` field matches the `id` field of the currently-authenticated user.

## GET /objects/for/\<username>

Returns a paginated list of generic objects owned by any registered user.

## POST /objects

Creates a new object owned by the currently-authenticated user. The `item`, `material`, and `description` fields may be included in the payload (the type and content of their values are free form and not validated by the test server). Other fields will be ignored.

## GET /objects/\<id>

Retrieves a specific object by ID.

## PUT /objects/\<id>

Replaces the `item`, `material`, and `description` fields of an object (leaving the `id` and `owner` fields untouched). Any fields not passed in the `PUT` request will be removed from the object.

## PATCH /objects/\<id>

Updates the `item`, `material`, and/or `description` fields of an object. Any fields not passed in the `PATCH` request will remain as originally set.

## DELETE /objects/\<id>

Deletes a specific object by ID. Returns an empty HTTP 204 response upon success.
